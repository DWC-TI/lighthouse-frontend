<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>🧪 Server Test – Lighthouse</title>
    <link rel="stylesheet" href="/assets/css/styles.css" />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background: #e6ecfa;
        color: #333;
        padding: 2rem;
      }

      .card {
        background: white;
        border-radius: 1rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        padding: 1.2rem 1.5rem;
        margin-bottom: 1.5rem;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
      }

      .card h2 {
        font-size: 1.2rem;
        margin-bottom: 0.5rem;
      }

      .status {
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        gap: 0.6rem;
        margin: 0.4rem 0;
      }

      .status .dot {
        font-size: 1.2rem;
      }

      .status.green .dot {
        color: green;
      }
      .status.yellow .dot {
        color: goldenrod;
      }
      .status.red .dot {
        color: crimson;
      }
      .status.gray .dot {
        color: #aaa;
      }

      a.button {
        display: inline-block;
        margin-top: 1rem;
        padding: 0.5rem 1rem;
        background: #4a80f0;
        color: white;
        border-radius: 0.6rem;
        text-decoration: none;
      }

      .legend {
        font-size: 0.85rem;
        margin-top: 0.5rem;
        color: #666;
      }

      .footer {
        text-align: center;
        font-size: 0.8rem;
        color: #888;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h2>✅ Servers Running</h2>
      <div class="status green" id="node-status">
        <span class="dot">●</span>
        <strong>Node.js</strong> – Running at <code>http://localhost:3001</code>
      </div>
      <div class="status green" id="python-status">
        <span class="dot">●</span>
        <strong>Python HTTP</strong> – Running at
        <code>http://localhost:8080</code>
      </div>
    </div>

    <div class="card">
      <h2>📂 JSON File Check</h2>
      <div id="status-container">
        <p>⏳ Checking files...</p>
      </div>
      <div class="legend">
        🟢 GitHub loaded · 🟡 Local fallback · 🔴 Error · ⚪ Pending
      </div>
    </div>

    <div class="card">
      <h2>🔗 Continue</h2>
      <p>When ready, open the full app interface.</p>
      <a class="button" href="/index.html">Go to index.html</a>
    </div>

    <div class="footer" id="timestamp"></div>

    <script src="/assets/js/check-files.js"></script>
    <script>
      // Server availability check (Node only)
      fetch("http://localhost:3001").catch(() => {
        const nodeStatus = document.getElementById("node-status");
        nodeStatus.classList.remove("green");
        nodeStatus.classList.add("red");
        nodeStatus.querySelector(".dot").title = "Server not reachable";
      });

      // Timestamp
      const now = new Date();
      document.getElementById("timestamp").textContent =
        "Last checked: " + now.toLocaleTimeString();
    </script>
  </body>
</html>
